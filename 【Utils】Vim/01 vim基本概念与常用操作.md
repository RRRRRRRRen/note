# **1. Vim 的三种模式**

Vim 的操作基于模式切换，不同模式下按键功能不同：

| **模式**       | **功能**                           | **如何进入**                     |
|----------------|-----------------------------------|----------------------------------|
| **普通模式**   | 移动光标、复制、粘贴、删除等操作     | 按 `Esc` 键                      |
| **插入模式**   | 输入和编辑文本                     | 按 `i`（插入）、`a`（追加）等键   |
| **命令模式**   | 执行保存、退出、搜索等命令           | 按 `:`（英文冒号）                |

# 2. 常用基础操作

## （1）打开/保存/退出

| 命令           | 作用           |
| ------------ | ------------ |
| `vim 文件名`    | 打开文件（不存在则新建） |
| `:w`         | 保存文件         |
| `:wq` 或 `ZZ` | 保存并退出        |
| `:q!`        | **强制退出不保存**  |
| `:e 文件名`     | 打开另一个文件      |

## （2）光标移动（普通模式）

| 按键                      | 功能              |
| ----------------------- | --------------- |
| `h` `j` `k` `l`         | 左、下、上、右         |
| `Ctrl + f` / `Ctrl + b` | 向前/向后翻页         |
| `gg`                    | 跳到文件第一行         |
| `G`                     | 跳到文件最后一行        |
| `:行号`                   | 跳转到指定行（如 `:10`） |

## （3）文本编辑

| 命令               | 功能                           |
|--------------------|-------------------------------|
| `i`                | 在光标前插入文本               |
| `a`                | 在光标后插入文本               |
| `o`                | 在当前行下方插入新行           |
| `O`                | 在当前行上方插入新行           |
| `x`                | 删除光标处的字符               |
| `dd`               | **删除当前行**                |
| `yy`               | 复制当前行                     |
| `p`                | 粘贴到光标后                   |
| `u`                | 撤销操作                       |
| `Ctrl + r`         | 重做（恢复撤销）               |

## （4）搜索与替换

| 命令                | 功能                          |
|---------------------|-----------------------------|
| `/关键词`           | 向下搜索（按 `n` 跳转到下一个） |
| `?关键词`           | 向上搜索（按 `N` 跳转到上一个） |
| `:%s/旧/新/g`       | **全局替换**（如 `:%s/foo/bar/g`） |
| `:s/旧/新/g`        | 替换当前行的匹配内容           |

---

# 3. 高效编辑技巧

## （1）多文件操作

| 命令                | 功能                          |
|---------------------|-----------------------------|
| `:split 文件名`     | 水平分屏打开另一个文件         |
| `:vsplit 文件名`    | 垂直分屏打开文件               |
| `Ctrl + w + 方向键` | 切换分屏窗口                  |
| `:tabnew 文件名`    | 在新标签页打开文件            |

## （2）批量操作

| 命令                | 功能                          |
|---------------------|-----------------------------|
| `Ctrl + v` + 选择区域 + `I` | **列编辑模式**（插入多行内容） |
| `:10,20d`          | 删除第 10 到 20 行           |
| `:10,20co30`       | 将 10-20 行复制到第 30 行后   |

## （3）宏录制（自动化重复操作）

1. 按 `q` + 寄存器名（如 `q`）开始录制。
2. 执行操作（如删除行、插入文本等）。
3. 按 `q` 结束录制。
4. 按 `@` + 寄存器名（如 `@a`）回放宏。
