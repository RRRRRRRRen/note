# ç¬¬ 03 ç«  Java çš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„

## 3.1 ä¸€ä¸ªç®€å•çš„ java ç¨‹åº

**ä»£ç è§„åˆ™**

- java åŒºåˆ†å¤§å°å†™
- æ¯ä¸ªè¯­å¥å¿…é¡»ä½¿ç”¨åˆ†å·ç»“æŸ
- java ä¸­ä»»ä½•æ–¹æ³•çš„ä»£ç éƒ½å¿…é¡»ä»¥ `{` å¼€å§‹ `}` ç»“æŸ

**ç±»åçš„å‘½åè§„åˆ™**

- ç±»åå¿…é¡»ä»¥å­—æ¯å¼€å¤´ï¼Œåé¢å¯ä»¥è·Ÿæ•°å­—å’Œå­—æ¯çš„ä»»æ„ç»„åˆ
- ç±»åæ˜¯ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„åè¯ï¼Œå¦‚æœåå­—ç”±å¤šä¸ªå•è¯ç»„æˆï¼Œåº”è¯¥ä½¿ç”¨å¤§é©¼å³°æ–¹å¼å‘½åã€‚
- æºä»£ç çš„æ–‡ä»¶åå¿…é¡»ä¸å…¬å…±ç±»çš„ç±»åç›¸åŒï¼Œå¹¶ä»¥`.java`ä½œä¸ºæ‰©å±•å

**æ‰§è¡Œè§„åˆ™**

- ä¿®é¥°ç¬¦ç”¨äºæ§åˆ¶ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†å¯¹è¿™æ®µä»£ç çš„è®¿é—®çº§åˆ«ï¼Œä¾‹å¦‚`public`
- java è™šæ‹Ÿæœºæ€»æ˜¯ä»æŒ‡å®šç±»ä¸­`main`æ–¹æ³•çš„ä»£ç å¼€å§‹æ‰§è¡Œ
- æ¯ä¸ª java å¼•ç”¨éƒ½å¿…é¡»æœ‰ä¸€ä¸ª`main`æ–¹æ³•

## 3.2 æ³¨é‡Š

**å•è¡Œæ³¨é‡Š**

> ä»//å¼€å§‹åˆ°æœ¬è¡Œç»“æŸéƒ½æ˜¯æ³¨é‡Š

```JAVA
// å•è¡Œæ³¨é‡Š
```

**å¤šè¡Œæ³¨é‡Š**

> å¯ä»¥ä½¿ç”¨`/*` `*/` æ³¨é‡Šç•Œå®šç¬¦è®²ä¸€æ®µæ¯”è¾ƒé•¿çš„æ³¨é‡Šæ‹¬èµ·æ¥
>
> ä¸èƒ½åµŒå¥—

```java
/*
	å¤šè¡Œæ³¨é‡Š
	å¤šè¡Œæ³¨é‡Š
*/
```

**æ–‡æ¡£æ³¨é‡Š**

> å¯ä»¥ç”¨äºè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£

```java
/**
	æ–‡æ¡£æ³¨é‡Š
  	@auther: ren
*/
```

## 3.3 æ•°æ®ç±»å‹

### 3.3.1 æ•´å‹

> ç”¨äºè¡¨ç¤ºæ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°ï¼Œå¯ä»¥æ˜¯è´Ÿæ•°ã€‚
>
> java æä¾›äº† 4 ç§æ•´å‹ï¼š`byte` / `short` / `int` / `long`

| ç±»å‹  | å ç”¨ç©ºé—´      | è¡¨æ•°èŒƒå›´                   | æ³¨æ„                                               |
| ----- | ------------- | -------------------------- | -------------------------------------------------- |
| byte  | 1 Byte = 8bit | -2^7 ~ 2^7-1ï¼ˆ-128 ~ 127ï¼‰ |                                                    |
| short | 2 Byte        | -2^15 ~ 2^15-1             |                                                    |
| int   | 4 Byte        | -2^31 ~ 2^31-1             | å¸¸ç”¨                                               |
| long  | 8 Byte        | -2^63 ~ 2^63-1             | èµ‹å€¼éœ€è¦åç¼€ `L` / `l`<br />`long x = 123456789L;` |

**å„è¿›åˆ¶è¡¨ç¤ºæ³•**

- åå…­è¿›åˆ¶ï¼šå‰ç¼€`0x`æˆ–`0X`ï¼Œä¾‹å¦‚`0xCAEF12`

- å…«è¿›åˆ¶ï¼šå‰ç¼€`0`ï¼Œä¾‹å¦‚`010`

- äºŒè¿›åˆ¶ï¼šå‰ç¼€`0b`æˆ–è€…`0B`ï¼Œä¾‹å¦‚`0b1001`

**æ•°å­—å¯è§†åŒ–è¡¨ç¤º**

ä½¿ç”¨ä¸‹åˆ’çº¿`_`æ–¹ä¾¿é˜…è¯»ï¼Œjava ç¼–è¯‘å™¨ä¼šå¿½ç•¥ä¸‹åˆ’çº¿ï¼Œä¾‹å¦‚ï¼š`1_000_000`ã€`0b1111_0110_0010`

### 3.3.2 æµ®ç‚¹ç±»å‹

> ç”¨äºè¡¨ç¤ºæœ‰å°æ•°éƒ¨åˆ†çš„æ•°å€¼ã€‚
>
> java æä¾›äº† 2 ç§æµ®ç‚¹ç±»å‹ï¼šfloatã€double

| ç±»å‹   | å ç”¨ç©ºé—´ | è¡¨æ•°èŒƒå›´               | æ³¨æ„                                                                             |
| ------ | -------- | ---------------------- | -------------------------------------------------------------------------------- |
| float  | 4 Byte   | -3.403E38 ~ 3.403E38   | èµ‹å€¼éœ€è¦åç¼€` F` / `f`<br />`float x = 123.23F;`                                 |
| double | 8 Byte   | -1.798E308 ~ 1.798E308 | ä¸å¸¦åç¼€é»˜è®¤ double ç±»å‹<br />å¯é€‰çš„å¢åŠ åç¼€ `D`/`d`<br />`double x = 123.233D;` |

**è¡¨ç¤ºæº¢å‡ºå’Œå‡ºé”™çš„æµ®ç‚¹æ•°**

- æ­£æ— ç©·ï¼š`DOUBLE.POSITIVE_INFINITY`
- è´Ÿæ— ç©·ï¼š`DOUBLE.NEGATIVE_INFINITY`
- éæ•°å­—ï¼š`DOUBLE.NaN`
  - æ‰€æœ‰`NaN`éƒ½æ˜¯ä¸åŒçš„ã€‚
  - å¯ä»¥ä½¿ç”¨`Double.isNaN()`åˆ¤æ–­ã€‚

### 3.3.3 å­—ç¬¦ç±»å‹

> char ç±»å‹ç”¨äºè¡¨ç¤ºå•ä¸ªå­—ç¬¦ã€‚
>
> java æä¾›äº† 1 ç§å­—ç¬¦ç±»å‹ï¼šchar

**ç‰¹æ®Šå­—ç¬¦è½¬ç§»åºåˆ—**

| è½¬ä¹‰åºåˆ— | åç§°   |
| -------- | ------ |
| `\b`     | é€€æ ¼   |
| `\t`     | åˆ¶è¡¨   |
| `\n`     | æ¢è¡Œ   |
| `\r`     | å›è½¦   |
| `\f`     | æ¢é¡µ   |
| `\"`     | åŒå¼•å· |
| `\'`     | å•å¼•å· |
| `\\`     | åæ–œæ  |
| `\s`     | ç©ºæ ¼   |

**æ³¨æ„**

- char ç±»å‹çš„å­—é¢é‡éƒ½éœ€è¦ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥ã€‚`''`
- char ç±»å‹å¯ä»¥è¡¨ç¤ºä¸ºåå…­è¿›åˆ¶çš„å€¼ã€‚\u0000 ~ \uFFFF
- å¯ä»¥åœ¨åŠ å¼•å·çš„å­—ç¬¦ã€åŒå¼•å·çš„å­—ç¬¦ä¸²ä¸­ä½¿ç”¨è½¬ä¹‰åºåˆ—ã€‚
- è½¬ä¹‰åºåˆ—\u å¯ä»¥åœ¨ä»»æ„ä½ç½®ä½¿ç”¨ï¼ŒåŒ…æ‹¬æ³¨é‡Šã€‚å…¶ä»–è½¬ä¹‰åºåˆ—ä¸å¯ä»¥ã€‚
- Unicode è½¬ä¹‰åºåˆ—ä¼šåœ¨è§£æä»£ç ä¹‹å‰æ‰§è¡Œã€‚
- å¼ºçƒˆä¸å»ºè®®åœ¨ç¨‹åºä¸­ä½¿ç”¨ char ç±»å‹ã€‚

### 3.3.5 å¸ƒå°”ç±»å‹

> boolean ç±»å‹ç”¨äºåˆ¤å®šé€»è¾‘æ¡ä»¶ã€‚
>
> java æä¾›äº† 1 ç§å¸ƒå°”ç±»å‹ï¼šbooleanï¼Œä¸”åªæœ‰ä¸¤ä¸ªå€¼ï¼š`true`ã€`false`

**æ³¨æ„**

æ•´å‹å€¼å’Œå¸ƒå°”å€¼ä¸èƒ½ç›¸äº’è½¬æ¢ã€‚

```java
if(0); // ç¼–è¯‘ç›´æ¥æŠ¥é”™ï¼šintç±»å‹æ— æ³•è½¬æ¢ä¸ºbooleanç±»å‹
```

## 3.4 å¸¸é‡ä¸å˜é‡

### 3.4.1 å£°æ˜å˜é‡

**è¯­æ³•**

> å…ˆæŒ‡å®šå˜é‡ç±»å‹ï¼Œå†æŒ‡å®šå˜é‡å

```java
double x;
```

**å˜é‡åçš„è¦æ±‚**

- ç”±å­—ç¬¦ã€æ•°å­—ã€è´§å¸ç¬¦å·ã€æ ‡ç‚¹è¿æ¥ç¬¦ç»„æˆã€‚èŒƒå›´å¾ˆå¹¿ï¼Œä½†æ˜¯ä¸€èˆ¬æ˜¯ç”¨ï¼ša~Zï¼Œ0~9ï¼Œ\_
- åŒºåˆ†å¤§å°å†™
- ä¸èƒ½ä½¿ç”¨ java å…³é”®å­—

**è¿ç»­å£°æ˜**

> å¯ä»¥ä¸€è¡Œå£°æ˜å¤šä¸ªå˜é‡ï¼Œä½†ä¸æ¨è

```java
int i, j;
```

### 3.4.2 åˆå§‹åŒ–å˜é‡

**è¯­æ³•**

> å¿…é¡»ä½¿ç”¨èµ‹å€¼è¯­å¥æ˜¾ç¤ºåˆå§‹åŒ–å˜é‡

```java
int a;
a = 12;
```

**ç›´æ¥åˆå§‹åŒ–**

```java
int a = 12;
```

**ç±»å‹æ¨æ–­åˆå§‹åŒ–**

> å¯ä»¥ç›´æ¥æ¨æ–­å‡ºæ¥çš„ç±»å‹å¯ä»¥ç›´æ¥ä½¿ç”¨ var ç›´æ¥åˆå§‹åŒ–

```java
var x = 12;
var x = 12.3;
var x = "ren";
```

### 3.4.3 å¸¸é‡

**è¯­æ³•**

```java
final double CM_PRE_INCN = 2.54;
```

**ç‰¹æ€§**

- å…³é”®å­—`final`è¡¨ç¤ºè¿™ä¸ªå˜é‡åªèƒ½èµ‹å€¼ä¸€æ¬¡

**ä¹ æƒ¯åšæ³•**

- å¸¸é‡ä½¿ç”¨å…¨å¤§å†™
- ä½¿ç”¨`static final`è®¾ç½®ä¸€ä¸ªç±»å¸¸é‡

### 3.4.4 æšä¸¾ç±»å‹

**è¯­æ³•**

```java
enum Size { SMALL, MEDIUM };
Size s = Size.SMALL;
```

**ç‰¹æ€§**

æšä¸¾ç±»å‹çš„å˜é‡åªèƒ½å­˜å‚¨å£°æ˜ä¸­åˆ—å‡ºçš„å€¼ï¼Œæˆ–è€… nullã€‚

## 3.5 è¿ç®—ç¬¦

### 3.5.1 ç®—æ•°è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¿ç®—                                                   | æ¡ˆä¾‹                               | ç»“æœ                           | æ³¨æ„                                                                                                       |
| ------ | ------------------------------------------------------ | ---------------------------------- | ------------------------------ | ---------------------------------------------------------------------------------------------------------- |
| +      | æ­£å·                                                   | +3                                 | 3                              |                                                                                                            |
| -      | è´Ÿå·                                                   | -3                                 | -3                             |                                                                                                            |
| +      | åŠ                                                      | 5 + 5                              | 10                             |                                                                                                            |
| -      | å‡                                                     | 5 - 1                              | 4                              |                                                                                                            |
| \*     | ä¹˜                                                     | 3 \* 4                             | 12                             |                                                                                                            |
| /      | é™¤                                                     | 5 / 5                              | 1                              | éƒ½æ˜¯æ•´æ•°æ‰ä½¿ç”¨æ•´æ•°é™¤æ³•ï¼Œè¿”å›æ•´æ•°<br />å¦åˆ™ä½¿ç”¨æµ®ç‚¹é™¤æ³•ï¼Œè¿”å›æµ®ç‚¹ç»“æœ<br />æµ®ç‚¹é™¤æ³•å¯ä»¥é™¤ 0ï¼Œæ•´æ•°é™¤æ³•ä¸å¯ä»¥ |
| %      | å–ä½™                                                   | 7 % 5                              | 2                              |                                                                                                            |
| ++     | è‡ªå¢ï¼ˆå‰ï¼‰ï¼šå…ˆè¿ç®—åå–å€¼<br />è‡ªå¢ï¼ˆåï¼‰ï¼šå…ˆå–å€¼åè¿ç®— | a = 2;b = ++a;<br />a = 2;b = a++; | a = 3;b = 3;<br />a = 3;b = 2; | ä¸ä¼šå¯¼è‡´ç±»å˜åŒ–                                                                                             |
| --     | è‡ªå‡                                                   | a = 2;b = --a;<br />a = 2;b = a--; | a = 1;b = 1;<br />a = 1;b = 2; | ä¸ä¼šå¯¼è‡´ç±»å˜åŒ–                                                                                             |
| +      | å­—ç¬¦ä¸²è¿æ¥                                             | "Hel" + "lo"                       | "Hello"                        |                                                                                                            |

### 3.5.2 æ•°å­¦å‡½æ•°ä¸å¸¸é‡

**å¸¸ç”¨æ–¹æ³•**

```java
double x = 4;
// æ±‚å¹³æ–¹æ ¹
double y = Math.sqrt(x);
// å¹‚è¿ç®—
double y = Math.pow(x);
```

**ç®€åŒ–å¯¼å…¥**

> å¯¼å…¥åï¼Œåœ¨ä½¿ç”¨æ•°å­¦æ–¹å’Œå’Œå¸¸é‡å‰å°±ä¸ç”¨æ·»åŠ `Math`ç±»ã€‚

```java
import static java.lang.Math.*

System.out.println(sqrt(PI));
```

**ç‰¹æ€§**

- `Math`ç±»ä½¿ç”¨æµ®ç‚¹è¿ç®—ï¼Œä¸åŒå¹³å°å¯èƒ½ç»“æœä¸åŒã€‚
- ä½¿ç”¨`StricMath`ç¡®ä¿ä¸åŒå¹³å°æœ‰ç¡®å®šçš„å€¼ã€‚
- æ™®é€šè¿ç®—æº¢å‡ºåä¸ä¼šæŠ¥é”™ï¼Œå¯ä»¥ä½¿ç”¨`Math`æä¾›æ•´æ•°è®¡ç®—æ–¹æ³•æ•è·é”™è¯¯

### 3.5.3 æ•°å€¼ç±»å‹ä¹‹é—´çš„è½¬æ¢

**è‡ªåŠ¨è½¬æ¢**

> å®¹é‡å°çš„å’Œå®¹é‡å¤§çš„å˜é‡ç›¸äº’è¿ç®—æ—¶ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºå®¹é‡å¤§çš„æ•°æ®ç±»å‹ã€‚
> è¿™é‡Œçš„å®¹é‡å€¼å¾—æ˜¯æ•°æ®èŒƒå›´è€Œéå†…å­˜å ç”¨å¤§å°ã€‚
>
> å®¹é‡å¤§å°ï¼š`byte ---> short ---> int ---> long ---> float ---> double`

- ç‰¹æ®Šæƒ…å†µ 1ï¼šæ¶‰åŠåˆ° byte å’Œ short çš„ç›¸äº’è¿ç®—éœ€è¦ç”¨ int æ¥å—

- ç‰¹æ®Šæƒ…å†µ 2ï¼šæ¶‰åŠåˆ° char å’Œ byte å’Œ short çš„ç›¸äº’è¿ç®—ä¹Ÿéœ€è¦ç”¨ int æ¥å—

- ç‰¹æ®Šæƒ…å†µ 3ï¼šå¸ƒå°”ç±»å‹ä¸èƒ½ä¸å…¶ä»–åŸºæœ¬æ•°æ®ç±»å‹ç›¸äº’è¿ç®—ã€‚

```java
long x = 123L;
long x = 123; // è‡ªåŠ¨æå‡ï¼šint ---> long
long x = 123123123123123; // è‡ªåŠ¨æå‡å¤±è´¥ï¼š123123123123123è¶…å‡ºintèŒƒå›´ã€‚
```

```java
float x = 12.3F;
float x = 12.3; // è‡ªåŠ¨è½¬æ¢å¤±è´¥ï¼šdouble ---> float å¤±è´¥
```

```java
// æ•´å‹ ä¸ å¸¸é‡ï¼Œè§„å®šå¿…é¡»intç±»å‹æ¥å—
byte x = 10;
int y = x + 1;
// æµ®ç‚¹ ä¸ å¸¸é‡ï¼Œè§„å®šå¿…é¡»doubleç±»å‹æ¥å—
double z = x + 12.3;
```

### 3.5.4 å¼ºåˆ¶ç±»å‹è½¬æ¢

**è¯­æ³•**

```java
double x = 12.9;
int y = (int)x;
System.out.println(y); // 12
```

**ç‰¹æ€§**

- å¼ºåˆ¶è½¬æ¢é€šè¿‡æˆªæ–­æµ®ç‚¹ç±»å‹çš„å°æ•°éƒ¨åˆ†æ¥è½¬æ¢ä¸ºæ•´æ•°ã€‚
- ä½¿ç”¨ Math.round()è¿›è¡Œèˆå…¥

```java
double x = 9.993;
// Math.roundä¼šè¿”å›ä¸€ä¸ªlongç±»å‹
int nx = (int) Math.round(x); // 10
```

### 3.5.5 èµ‹å€¼

**è¯­æ³•**

```java
x += 4;
// ç­‰ä»·äº
x = x + 4;
```

**ç‰¹æ€§**

- èµ‹å€¼ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå…·æœ‰è¿”å›å€¼ï¼Œè¿”å›çš„å°±æ˜¯èµ‹çš„å€¼ã€‚
- ä½¿ç”¨äºŒå…ƒè¿ç®—ç¬¦èµ‹å€¼ä¸ä¼šå‘ç”Ÿç±»å‹çš„å¼ºåˆ¶è½¬æ¢ã€‚

### 3.5.6 è‡ªå¢è‡ªå‡è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | è¿ç®—                                                   | æ¡ˆä¾‹                               | ç»“æœ                           | æ³¨æ„           |
| ------ | ------------------------------------------------------ | ---------------------------------- | ------------------------------ | -------------- |
| ++     | è‡ªå¢ï¼ˆå‰ï¼‰ï¼šå…ˆè¿ç®—åå–å€¼<br />è‡ªå¢ï¼ˆåï¼‰ï¼šå…ˆå–å€¼åè¿ç®— | a = 2;b = ++a;<br />a = 2;b = a++; | a = 3;b = 3;<br />a = 3;b = 2; | ä¸ä¼šå¯¼è‡´ç±»å˜åŒ– |
| -      | è‡ªå‡                                                   | a = 2;b = --a;<br />a = 2;b = a--; | a = 1;b = 1;<br />a = 1;b = 2; | ä¸ä¼šå¯¼è‡´ç±»å˜åŒ– |

### 3.5.7 å…³ç³»å’Œ boolean

**ç›¸ç­‰**

- æ£€æµ‹ç›¸ç­‰ï¼š`==`
- æ£€æµ‹ä¸ç›¸ç­‰ï¼š`!=`
- é€»è¾‘éï¼š`!`

**æ¯”è¾ƒ**

`>`ã€`>`ã€ `<=`ã€ `>=`

**çŸ­è·¯é€»è¾‘**

`&&` ã€`||` æŒ‰ç…§çŸ­è·¯çš„æ–¹å¼è¿›è¡Œæ¯”è¾ƒ

### 3.5.8 æ¡ä»¶è¿ç®—ç¬¦

**è¯­æ³•**

```java
x < y ? x : y;
```

**ç‰¹æ€§**

- æ¡ä»¶è¡¨è¾¾å¼ä¸º Boolean ç±»å‹
- å¦‚æœ true æ‰§è¡Œ 1ï¼Œå¦åˆ™æ‰§è¡Œ 2

### 3.5.9 switch è¡¨è¾¾å¼

**è¯­æ³•**

```java
// æ™®é€šå˜é‡è¯­æ³•
var x = 0;
String season1 = switch (x) {
    case 0 -> "A";
    case 1 -> "B";
};
System.out.println(season1);

// æšä¸¾è¯­æ³•
enum Size { A, B, C };
Size size = Size.A;
String season2 = switch (size) {
    case A -> "A";
    case B -> "B";
    case C -> "C";
};
System.out.println(season2);
```

**ç‰¹æ€§**

- switch ä¸­åªå…è®¸ä½¿ç”¨ byteã€shortã€charã€intã€æšä¸¾ï¼ˆJDK5ï¼‰ã€Stringï¼ˆJDK7ï¼‰
- ä½¿ç”¨æšä¸¾å¸¸é‡æ—¶ï¼Œä¸éœ€è¦ä¸ºå„ä¸ªæ ‡ç­¾æä¾›æšä¸¾åã€‚
- ä½¿ç”¨æ•´æ•°æˆ–è€… String æ“ä½œæ•°çš„ switch å¿…é¡»æœ‰ä¸€ä¸ª defaultï¼Œå› ä¸ºè¡¨è¾¾å¼å¿…é¡»è¦ç”Ÿæˆä¸€ä¸ªå€¼ã€‚

### 3.5.10 ä½è¿ç®—ç¬¦

| ç¬¦å· | åç§°       | å¤‡æ³¨     |
| ---- | ---------- | -------- |
| <<   | å·¦ç§»       |          |
| >>   | å³ç§»       |          |
| >>>  | æ— ç¬¦å·å³ç§» |          |
| &    | ä¸”         | ä¸ä¼šçŸ­è·¯ |
| \|   | æˆ–         | ä¸ä¼šçŸ­è·¯ |
| ^    | å¼‚æˆ–       |          |
| ~    | å–å       |          |

### 3.5.11 æ‹¬å·å’Œè¿ç®—ç¬¦çº§åˆ«

**ç‰¹æ€§**

- åŒä¸€çº§åˆ«çš„è¿ç®—ç¬¦ä»å·¦åˆ°å³çš„æ¬¡åºè¿›è¡Œè®¡ç®—
- é™¤äº†å³ç»“åˆè¿ç®—ç¬¦ã€‚ä¾‹å¦‚`+=`

## 3.6 å­—ç¬¦ä¸²

### 3.6.1 å­ä¸²

æå–å­ä¸²

```java
String greeting = "Hello";
String s = greeting.substring(0,3); // "Hel"
```

### 3.6.2 æ‹¼æ¥

å…è®¸ä½¿ç”¨ `+` æ‹¼æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚

```java
String s1 = "Hello ";
String s2 = "world";
String msg = s1 + s2; // "Hellw world"
```

å½“å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ä¸€ä¸ªéå­—ç¬¦ä¸²æ‹¼æ¥æ—¶ï¼Œåè€…ä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚

ä½¿ç”¨åˆ†éš”ç¬¦æ‹¼æ¥

```java
String all = String.join(" / ", "aa", 'bb'); // "aa / bb"
```

### 3.6.3 å­—ç¬¦ä¸²ä¸å¯å˜

ä¿®æ”¹å­—ç¬¦ä¸²éœ€è¦å…ˆæå–å†æ‹¼æ¥

```java
String a = "hello";
greeting = greeting.substring(0,3) + 'n'; // "heln"
```

**ç‰¹æ€§**

- Stringç±»å¯¹è±¡ä¸å¯å˜

### 3.6.4 æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰

æ£€æµ‹ç›¸ç­‰

```java
String a = "hello";
a.equals("hello world"); // false
```

æ£€æµ‹ç›¸ç­‰ï¼Œä½†ä¸åŒºåˆ†å¤§å°å†™

```java
String a = "hello";
boolean result = a.equalsIgnoreCase("Hello"); // true
```

### 3.6.5 å­—ç¬¦ä¸²ä¸ Null å€¼

æ£€æµ‹å­—ç¬¦ä¸²ä¸ºç©ºçš„æ–¹æ³•

```java
if(str.length() == 0);
// æˆ–
if(str.equals(""));
```

æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºnull

```java
if(str == null);
```

### 3.6.6 ç ç‚¹ä¸ä»£ç å•å…ƒ

javaå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªcharå€¼åºåˆ—ï¼Œcharæ•°æ®ç±»å‹æ˜¯é‡‡ç”¨UTF-16ç¼–ç é„™è§†Unicodeç ç‚¹çš„ä¸€ä¸ªä»£ç å•å…ƒã€‚

å¸¸ç”¨çš„Unicodeè‡ªè´Ÿå¯ä»¥é‡‡ç”¨ä¸€ä¸ªä»£ç å•å…ƒè¡¨ç¤ºï¼Œè€Œè¾…åŠ©å­—ç¬¦éœ€è¦ä¸€å¯¹ä»£ç å•å…ƒè¡¨ç¤ºã€‚

lengthæ–¹æ³•å°†è¿”å›é‡‡ç”¨UTF-16ç¼–ç è¡¨ç¤ºç»™å®šå­—ç¬¦ä¸²æ‰€éœ€è¦çš„ä»£ç å•å…ƒä¸ªæ•°ã€‚

ä¸æ¨èä½¿ç”¨charç±»å‹ï¼Œè¿‡äºåº•å±‚ã€‚

ä»£ç å•å…ƒä¸ªæ•°ï¼š

```java
String a = "Hello";
int n = a.length(); // 5
```

ç ç‚¹ä¸ªæ•°ï¼š

```java
String string = "ğŸ˜Š";
int count = string.codePointCount(0,string.length());
System.out.println(count); // 1
System.out.println(string.length()); // 2
```

ä½ç½®nçš„ä»£ç å•å…ƒï¼š

```java
String string = "AğŸ˜ŠA";
char first = string.charAt(0); // A
System.out.println(first);
char second = string.charAt(1); // ?
System.out.println(second);
char third = string.charAt(2); // ?
System.out.println(third);
char fourth = string.charAt(3); // A
System.out.println(fourth);
```

ä½ç½®nçš„ç ç‚¹ï¼š

```java
String string = "AğŸ˜ŠA";
int index0 = string.offsetByCodePoints(0, 0);
System.out.println(index0); // 0
int cp0 = string.codePointAt(index0); // 65
System.out.println(cp0);

int index1 = string.offsetByCodePoints(0, 1);
System.out.println(index1); // 1
int cp1 = string.codePointAt(index1);
System.out.println(cp1); // 128522

int index2 = string.offsetByCodePoints(0, 2);
System.out.println(index2); // 3
int cp2 = string.codePointAt(index2);
System.out.println(cp2); // 65
```

ä¾æ¬¡æŸ¥çœ‹æ¯ä¸€ä¸ªç ç‚¹

```java
String string = "AğŸ˜ŠA";
int[] codePoints = string.codePoints().toArray();
System.out.println(Arrays.toString(codePoints)); // [65, 128522, 65]
```

ç ç‚¹æ•°ç»„è½¬å­—ç¬¦ä¸²

```java
int[] codePoints = {65, 128522, 65};
String str = new String(codePoints,0, codePoints.length);
System.out.println(str); // AğŸ˜ŠA
```

### 3.6.7 String API

å¸¸ç”¨API

### 3.6.8 é˜…è¯»è”æœºAPIæ–‡æ¡£

[Overview (Java Platform SE 8 ) (oracle.com)](https://docs.oracle.com/javase/8/docs/api/)

### 3.6.9 æ„å»ºå­—ç¬¦ä¸²

å•çº¿ç¨‹ä½¿ç”¨ StringBuilder

å¤šçº¿ç¨‹ä½¿ç”¨ StringBuffer

```java
StringBuilder builder = new StringBuilder();
builder.append('A');
builder.append("BBC");
String str = builder.toString();
System.out.println(str); // ABBC
```

### 3.6.10 æ–‡æœ¬å—

**å£°æ˜æ–‡æœ¬å—**

> (JDK15æ”¯æŒ)

```java
String str = """
    Hello
    World
    !
    """;
```

**ç‰¹æ€§**

- ä»¥`"""`å¼€å¤´ï¼Œåé¢è·Ÿä¸€ä¸ª`æ¢è¡Œç¬¦`ï¼Œå¹¶ä»¥å¦ä¸€ä¸ª`""";`ç»“å°¾ã€‚
- è¡Œå°¾`\`ä¼šæ‹¼æ¥ä¸‹ä¸€è¡Œã€‚
- è¡Œç»“æŸç¬¦ä¼šè¢«æ ‡å‡†åŒ–ä¸º`\n`
- è‡ªåŠ¨å»é™¤å…¬å…±ç¼©è¿›

## 3.7 è¾“å…¥ä¸è¾“å‡º

### 3.7.1 è¯»å–è¾“å…¥

```java
Scanner scan = new Scanner(System.in);
String str = scan.nextLine();
int number = scan.nextInt();
```

### 3.7.2 æ ¼å¼åŒ–è¾“å‡º

éµå¾ªä¸€å®šçš„è¯­æ³•ã€‚

```java
int age = 19;
String name = "AAA";
System.out.printf("Hello %s, Next year, you'll be %d", name, age); // Hello AAA, Next year, you'll be 19
```

### 3.7.3 æ–‡ä»¶è¾“å…¥ä¸è¾“å‡º

æ–‡ä»¶è¾“å‡º

```java
Scanner in = new Scanner(Path.of("myFile.txt"), StandardCharsets.UTF_8);
```

æ–‡ä»¶è¾“å‡º

```java
PrintWriter out = new PrintWriter("myFile.txt", StandardCharsets.UTF_8);
```

**æ³¨æ„ï¼š**

- ç”Ÿæˆçš„æ–‡ä»¶å–å†³äºè™šæ‹Ÿæœºã€shellè¿è¡Œæ‰€åœ¨çš„ç›®å½•ã€ideæ§åˆ¶ã€‚
- æ¨èä½¿ç”¨ç»å¯¹è·¯å¾„åã€‚
- æ¯ä¸ªåæ–œçº¿ä¹‹å‰éœ€è¦å†åŠ ä¸€ä¸ªåæ–œçº¿ã€‚

## 3.8 æ§åˆ¶æµç¨‹

### 3.8.1 å—ä½œç”¨åŸŸ

å—ç¡®å®šäº†å˜é‡çš„ä½œç”¨åŸŸã€‚

ä¸èƒ½åœ¨åµŒå¥—çš„ä¸¤ä¸ªå—ä¸­å£°æ˜åŒåçš„å˜é‡ã€‚

### 3.8.2 æ¡ä»¶è¯­å¥

æ¡ä»¶å¿…é¡»ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ã€‚

```java
int a = 12;
int b = 13;
if (a > b) {
    System.out.println(a);
}
```

- elseå­è¯­å¥ä¸æœ€é‚»è¿‘çš„ifæ„æˆä¸€ç»„
- æ¨èä½¿ç”¨å¤§æ‹¬å·è®©ä»£ç æ›´åŠ æ¸…æ™°ã€‚
- å¯ä»¥åå¤ä½¿ç”¨if...else if ...è¯­å¥

### 3.8.3 å¾ªç¯

whileå¾ªç¯ä¼šåœ¨æ¡ä»¶ä¸ºtrueæ—¶æ‰§è¡Œä¸‹ä¸€ä¸ªè¯­å¥æˆ–è€…ä¸‹ä¸€ä¸ªå—è¯­å¥ã€‚

```java
while (balance < goal)
{
  balance += payment;
  double interest = balance * interstRate / 100;
  balance += interest;
  years++;
}
```

å¦‚æœå¸Œæœ›å¾ªç¯ä½“è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨do whileè¯­å¥ã€‚

```java
do
{
  balance += payment;
  double interest = balance * interstRate / 100;
  balance += interest;
  years++;
} while (balance < goal)
```

### 3.8.4 ç¡®å®šæ€§å¾ªç¯

forè¯­å¥ç¬¬ä¸€éƒ¨åˆ†ï¼šè®¡æ•°å™¨åˆå§‹åŒ–ã€‚

forè¯­å¥ç¬¬äºŒéƒ¨åˆ†ï¼šæ¯ä¸€è½®å¾ªç¯å‰è¦æ£€æµ‹çš„å¾ªç¯æ¡ä»¶ã€‚

forè¯­å¥ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŒ‡å®šå¦‚ä½•æ›´æ–°è®¡æ•°å™¨ã€‚

```java
for (int i = 10; i > 0; i--)
{
  // ...
  i++;
}
```

- forè¯­å¥ç¬¬ä¸€éƒ¨åˆ†å£°æ˜çš„å˜é‡ä¼šæ‰©å±•åˆ°è¿™ä¸ªforå¾ªç¯çš„æœ«å°¾ã€‚
- forå¾ªç¯å†…éƒ¨å®šä¹‰çš„å˜é‡åªèƒ½åœ¨forå¾ªç¯ä½“ä¸­ä½¿ç”¨ã€‚

### 3.8.5 å¤šé‡é€‰æ‹©ï¼šswitch è¯­å¥

caseæ ‡ç­¾å¯ä»¥æ˜¯ï¼š

- ç±»å‹ä¸ºcharã€byteã€shortã€intçš„å¸¸é‡è¡¨è¾¾å¼ã€‚
- æšä¸¾å¸¸é‡ã€‚
- å­—ç¬¦ä¸²å­—é¢é‡ã€‚
- å¤šä¸ªå­—ç¬¦ä¸²ï¼Œç”¨é€—å·åˆ†éš”ã€‚

ç‰¹æ€§ï¼š

- switchè¯­å¥ä»é€‰é¡¹å€¼ç›¸åŒ¹é…çš„caseæ ‡ç­¾å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªbreakè¯­å¥ï¼Œæˆ–è€…æ‰§è¡Œåˆ°switchè¯­å¥ç»“æŸã€‚
- å¦‚æœæ²¡æœ‰åŒ¹é…çš„caseæ ‡ç­¾ï¼Œåˆ™ä¼šæ‰§è¡Œdefaultå­å¥ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚
- æœ‰ç›´é€šè¡Œä¸ºçš„å½¢å¼ä¸­ï¼Œæ¯ä¸ªcaseä»¥ä¸€ä¸ªå†’å· `:` ç»“æŸã€‚
- æ²¡æœ‰ç›´é€šè¡Œä¸ºçš„å½¢å¼ä¸­ï¼Œæ¯ä¸ªcaseä»¥ä¸€ä¸ªç®­å¤´ `->` ç»“æŸã€‚
- switchè¡¨è¾¾å¼ä¸­å…·æœ‰yieldå…³é”®å­—ï¼Œä¸breakè•¾ä¸ï¼Œyieldä¼šç»ˆæ­¢æ‰§è¡Œï¼Œä½†æ˜¯yieldä¼šç”Ÿæˆä¸€ä¸ªå€¼ï¼Œå°±æ˜¯è¡¨è¾¾å¼çš„å€¼ã€‚

ç›´é€šè¡¨è¾¾å¼ï¼š

```java
int day = 2;
switch (day) {
    case 1:
        System.out.println("Monday");
        // No break, so it falls through to the next case
    case 2:
        System.out.println("Tuesday");
        // No break, so it falls through to the next case
    case 3:
        System.out.println("Wednesday");
        break;
    default:
        System.out.println("Another day");
}
```

### 3.8.6 ç»ˆç«¯æ§åˆ¶æµç¨‹çš„è¯­å¥

ä¸å¸¦æ ‡ç­¾çš„breakè¯­å¥ã€‚é€€å‡ºå½“å‰å¾ªç¯ã€‚

```java
while (year <= 100)
{
  balance += payment;
  // ...
  if (balance >= goal) break;
}
```

å¸¦æ ‡ç­¾breakè¯­å¥ã€‚é€€å‡ºæŒ‡å®šå¾ªç¯ï¼ŒåŒ…æ‹¬åµŒå¥—çš„å¾ªç¯ã€‚

```java
outerLoop: // Define a label for the outer loop
for (int i = 0; i < 5; i++) {
    for (int j = 0; j < 5; j++) {
        if (j == 3) {
            break outerLoop; // Terminates the outer loop when j is 3
        }
        System.out.println("i = " + i + ", j = " + j);
    }
}
```

continueè¯­å¥ä¼šè¶Šè¿‡å½“å‰å¾ªç¯ä½“çš„å‰©ä½™éƒ¨åˆ†ï¼Œç›´æ¥è·³åˆ°å¾ªç¯çš„é¦–éƒ¨ã€‚

```java
public class ContinueExample {
    public static void main(String[] args) {
        // ä½¿ç”¨å¾ªç¯è¾“å‡º 1 åˆ° 5 çš„æ•°å­—ï¼Œä½†è·³è¿‡æ•°å­— 3
        for (int i = 1; i <= 5; i++) {
            if (i == 3) {
                // å½“ i ç­‰äº 3 æ—¶ï¼Œè·³è¿‡å½“å‰è¿­ä»£ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡è¿­ä»£
                continue;
            }
            System.out.println(i);
        }
    }
}
```

## 3.9 å¤§æ•°

æ„é€ æ•´æ•°ï¼š

```java
// è½¬æ¢ä¸ºå¤§æ•°
BigInteger a = BigInteger.valueOf(100);
```

```java
// æ›´é•¿çš„æ•°æ„é€ ä¸ºå¤§æ•°
BigInteger a = new BigInteger("2020200202020202020202002020202020");
```

æ„é€ æµ®ç‚¹æ•°ï¼š

```java
BigDecimal a = new BigDecimal("0.1");
```

- å¯¹äºBigDecimalç±»ï¼Œæ€»æ˜¯åº”å½“ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°æ¥è¿›è¡Œæ„é€ ã€‚
- ä¸èƒ½ä½¿ç”¨ç®—æ•°è¿ç®—ç¬¦å»è®¡ç®—ï¼Œè€Œéœ€è¦ä½¿ç”¨æä¾›çš„æ–¹æ³•ã€‚

 
