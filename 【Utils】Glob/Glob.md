# 匹配模式

## 一级匹配

```gitignore
# 匹配：
#    1. 所有名为 log 的目录
#    2. 所有名为 log 的文件
log

# 匹配：
#    1. 所有名为 log 的目录
log/

# 匹配：
#    1. 根目录下 所有名为 log 的目录
#    2. 根目录下 所有名为 log 的文件
/log

# 匹配：
#    1. 根目录下 所有名为 log 的目录
/log/

```

## 多级匹配

```gitignore
# 匹配：
#    1. 所有 log 目录下，名为 sub 的目录
#    2. 所有 log 目录下，名为 sub 的文件
log/sub

# 匹配：
#    1. 所有 log 目录下，名为 sub 的目录
log/sub/

# 匹配：
#    1. 根目录的直属目录 log 下，所有名为 sub 的目录
#    2. 根目录的直属目录 log 下，所有名为 sub 的文件
/log/sub

# 匹配：
#    1. 根目录的直属目录 log 下，所有名为 sub 的目录
/log/sub/
```

## 通配符

```gitignore
# 匹配：
#    1. * 可以是 任意数量包括零个 字符或空格
*.log

# 匹配：
#    1. ? 可以是 任意一个 字符或空格
l?g

# 匹配：
#    1. [abc] 只能是 abc 中的一个
l[abc]g

# 匹配：
#    1. [abc] 只能是 a到z 中的一个
l[a-z]g


# 匹配：
#    1. 排除 log 文件或目录
!log

# 匹配：
#    1. [abc] 不能是 abc 中的一个
l[!abc]g
```

# 特殊案例

## 一、 `/dist/*` 和 `/dist/` 多区别

### 区别解释

#### `1. /dist/`

**匹配**

- 忽略的是：`dist` 目录及其 **全部内容**（包括子目录、文件）。
- 等价于：“忽略整个目录，不管里面有什么”。

**示例**

```
/dist/          ✅ 忽略 dist/
    /dist/a.js    ✅ 忽略
    /dist/css/    ✅ 忽略
    /dist/css/x.css ✅ 忽略
```

> 推荐用这个来忽略整个构建输出目录，如 `build/`, `dist/`, `out/`

#### `2. /dist/*`

- 忽略的是：`dist` 目录下的 **所有文件和一级子目录**，但**不递归**。
- `dist` 本身必须存在且不被忽略。
- 可能会**保留子目录中的子文件**，除非手动加规则。

✅ 示例匹配：

```
/dist/a.js      ✅ 忽略
    /dist/img/      ✅ 忽略 img/ 这个子目录本身
    /dist/img/x.png 🚫 不忽略（除非你加了 /dist/**）
```

## 总结对比

|规则|是否忽略 dist 目录|是否忽略子目录内容|推荐用途|
|---|---|---|---|
|`/dist/`|✅ 是|✅ 是（递归）|✅ 忽略整个构建输出目录|
|`/dist/*`|❌ 否|❌ 否（不递归）|❌ 不建议这么写（容易遗漏）|
