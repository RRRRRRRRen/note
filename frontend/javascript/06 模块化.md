# 早期模块化方案

## 问题案例

没有使用模块化开发，会出现全局变量污染的问题，每个加载的 js 文件都共享变量。

```html
<body>
  <script src="./index.js"></script>
  <script src="./home.js"></script>
  <script src="./list.js"></script>
</body>
```

```js
// index.js
var name = "不要秃头啊";
```

```js
// home.js
var name = [1, 2, 3];
```

```js
// list.js
console.log(name); // [1,2,3]
```

## 解决方案

可以使用匿名函数自执行的方式，形成独立的块级作用域解决这个问题。

```js
// home.js
(function () {
  var name = [1, 2, 3];
})();
```

# CommonJS 规范

# CommonJS 模块化原理

# ES Module 规范

# ES Module 模块化原理

# CommonJS 加载 ES Module

# ES Module 加载 CommonJS
